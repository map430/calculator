<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calculator</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="calculatorContainer">
      <div class="screenContainer">
        <div class="screen"></div>
      </div>
      <div class="keyboard">
        <div class="row1">
          <button class="clear">Clear</button>
          <button class="delete">Delete</button>
          <button class="percent">%</button>
          <button class="operator">รท</button>
        </div>
        <div class="row2">
          <button class="num">7</button>
          <button class="num">8</button>
          <button class="num">9</button>
          <button class="operator">x</button>
        </div>
        <div class="row3">
          <button class="num">4</button>
          <button class="num">5</button>
          <button class="num">6</button>
          <button class="operator">-</button>
        </div>
        <div class="row4">
          <button class="num">1</button>
          <button class="num">2</button>
          <button class="num">3</button>
          <button class="operator">+</button>
        </div>
        <div class="row5">
          <button class="num">0</button>
          <button class="num">.</button>
          <button class="equal">=</button>
        </div>
      </div>
    </div>

    <script>
     

      //selects screen and num button html elements, adds an event listener
      //for each button and on click displays a number. Each subsequent click
      //concatenates the number to the screen text and disables the button after
      //a certain number of clicks. Nested if statements handle decimal logic.
      const screen = document.querySelector(".screen");
      const num = document.querySelectorAll(".num");

      clickCountNum1 = 0;
      clickCountDecimal1 = 0;
      let screenDisplay = "";
      let userInputNum1 = 0;

      clickCountNum2= 0;
      clickCountDecimal2 =0;
      let screenDisplay2 = "";
      let userInputNum2 = 0;

      let userInputOperator = "";

      num.forEach((button) => {
        button.addEventListener("click", () => {
          if (userInputOperator === "") { 
          if (button.innerHTML === ".") {
            if (clickCountDecimal1 < 1 && screen.textContent !== "") {
              clickCountDecimal1++;
              screenDisplay = screen.textContent + button.innerHTML;
              screen.textContent = screenDisplay;
              userInputNum1 = parseFloat(screenDisplay);
              return userInputNum1
            } else if (clickCountDecimal1 < 1 && screen.textContent === "") {
              clickCountDecimal1++;
              screenDisplay = "0" + button.innerHTML;
              screen.textContent = screenDisplay;
              userInputNum1 = parseFloat(screenDisplay);
              return userInputNum1
            } else if (clickCountDecimal1 > 1) {
              button.disabled = true;
            }
          } else if (button.innerHTML !== ".") {
            if (clickCountNum1 < 5) {
              clickCountNum1++;
              screenDisplay = screen.textContent + button.innerHTML;
              screen.textContent = screenDisplay;
              userInputNum1 = parseFloat(screenDisplay);
              return userInputNum1
            } else {
              button.disabled = true;
            }
          } 
        }else if (userInputOperator !== "" && clickCountNum2 === 0) {
          screen.textContent = "";
          if (button.innerHTML === ".") {
            if (clickCountDecimal2 < 1 && screen.textContent !== "") {
              clickCountDecimal2++;
              screenDisplay2 = screen.textContent + button.innerHTML;
              screen.textContent = screenDisplay2;
              userInputNum2 = parseFloat(screenDisplay2);
              return userInputNum2
            } else if (clickCountDecimal2 < 1 && screen.textContent === "") {
              clickCountDecimal2++;
              screenDisplay2 = "0" + button.innerHTML;
              screen.textContent = screenDisplay2;
              userInputNum2 = parseFloat(screenDisplay2);
              return userInputNum2
            } else if (clickCountDecimal2 > 1) {
              button.disabled = true;
            }
          }else if (button.innerHTML !== ".") {
            if (clickCountNum2 < 5) {
              clickCountNum2++;
              screenDisplay2 = screen.textContent + button.innerHTML;
              screen.textContent = screenDisplay2;
              userInputNum2 = parseFloat(screenDisplay2);
              return userInputNum2
            } else {
              button.disabled = true;
            }
          }
          }else if (userInputOperator !== "") {
          if (button.innerHTML === ".") {
            if (clickCountDecimal2 < 1 && screen.textContent !== "") {
              clickCountDecimal2++;
              screenDisplay2 = screen.textContent + button.innerHTML;
              screen.textContent = screenDisplay2;
              userInputNum2 = parseFloat(screenDisplay2);
              return userInputNum2
            } else if (clickCountDecimal2 < 1 && screen.textContent === "") {
              clickCountDecimal2++;
              screenDisplay2 = "0" + button.innerHTML;
              screen.textContent = screenDisplay2;
              userInputNum2 = parseFloat(screenDisplay2);
              return userInputNum2
            } else if (clickCountDecimal2 > 1) {
              button.disabled = true;
            }
          }else if (button.innerHTML !== ".") {
            if (clickCountNum2 < 5) {
              clickCountNum2++;
              screenDisplay2 = screen.textContent + button.innerHTML;
              screen.textContent = screenDisplay2;
              userInputNum2 = parseFloat(screenDisplay2);
              return userInputNum2
            } else {
              button.disabled = true;
            }
          }
        }
        });
      });

     
      const operator = document.querySelectorAll(".operator");
      clickCountOperator = 0
      operator.forEach((button) => {
      button.addEventListener("click", () => {
        if (clickCountOperator <=1) {
          clickCountOperator++
        userInputOperator = userInputOperator +  button.innerHTML;
        }else {
          button.disabled = true;
        }
      });
      });

          
      //operator functions perform basic math functions using two variables
      function sum(num1, num2) {
        return num1 + num2;
      }

      function subtract(num1, num2) {
        return num1 - num2;
      }

      function multiply(num1, num2) {
        return num1 * num2;
      }

      function divide(num1, num2) {
        return num1 / num2;
      }

      //operate function combines user inputs for numbers and operators to calculate a result
      let userOperator = "";
      function operate(num1, num2) {
        if (userOperator === "+") {
          return sum(num1, num2);
        } else if (userOperator === "-") {
          return subtract(num1, num2);
        } else if (userOperator === "*") {
          return multiply(num1, num2);
        } else if (userOperator === "/") {
          return divide(num1, num2);
        }
      }

      // const equal = document.querySelector(".equal");

      // equal.addEventListener("click", () => {
      //   num1 = userInputNum1;
      //   num2 = userInputNum2;
      //   userOperator = userInputOperator;
      //   operate();
      // });

      /* When the equal button is hit fun the operate function 
      where user num1=userInputNum1, num2 = userInputNum2, and userOperator = userInputOperator */

      // let userOperator = "-";
      // console.log(operate(10, 2));
    </script>
  </body>
</html>
